<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="description" content="">

  <title>jQuery zoetrope</title>
  
  <style type="text/css">
    .zoetrope { display: block; position: relative; overflow: hidden; }
    .zoetrope img { position: absolute; left: 0; top: 0; }
    
    button { position: relative; -moz-box-sizing: content-box; border: none; background: rgb(100,200,300); padding: 5px 5px 5px 20px; cursor: pointer; }
  </style>
  
  <script src="http://www.google.com/jsapi?key="></script>
  <script type="text/javascript">
    google.load("jquery", "1.6");
  </script>
  <script src="jquery-zoetrope.js" type="text/javascript" charset="utf-8"></script>
  <script>
    $(function(){
      $(".movie").zoetrope({
        "path"          : "sprite.jpg"
      , "orientation"   : "vertical"
      , "frame_width"   : 343
      , "frame_height"  : 240
      , "speed"         : 40
      , "clb_cycle"     : function(){
                            //console.log("cycle");
                          }
      , "clb_start"     : function(){
                            //console.log("start");
                          }
      });
      
      $(".loader").zoetrope({
        "path"          : "sprite-loader.jpg"
      , "orientation"   : "vertical"
      , "frame_width"   : 100
      , "frame_height"  : 100
      , "speed"         : 100
      , "loop"          : true
      });
      
      $(".micro-loader").zoetrope({
        "path"          : "preloader.png"
      , "orientation"   : "vertical"
      , "frame_width"   : 16
      , "frame_height"  : 16
      , "speed"         : 60
      , "loop"          : true
      });
      
      $(".colors").zoetrope({
        "path"          : "sprite-colors.jpg"
      , "orientation"   : "vertical"
      , "frame_width"   : 300
      , "frame_height"  : 200
      , "speed"         : 200
      });
      
      $("a").click(function(){
        $.fn.zoetrope.kill();
      });
      
      $("button").click(function(event){
        event.preventDefault();
        if (!$(this).data("loader")) {
          var $loader = $("<span>").addClass("loader zoetrope").css("position","absolute");
          $loader.offset({
            "left": $(this).offset().left + 5,
            "top": $(this).offset().top + 5,
          })
          $("body").append($loader);
          $loader.zoetrope({
            "path"          : "https://github.com/yvesvanbroekhoven/jquery-zoetrope/raw/master/preloader-white.png"
          , "orientation"   : "vertical"
          , "frame_width"   : 16
          , "frame_height"  : 16
          , "speed"         : 60
          , "loop"          : true
          });
        }
        
        $(this).data("loader", $loader);
      });
    });
  </script>

</head>
<body>
<a href="#">Stop</a>
<div class="movie zoetrope">

</div>
<div class="loader zoetrope">

</div>
<div class="colors zoetrope">

</div>

<div class="micro-loader zoetrope"></div>

<br>
<br>

<button>Click me</button>


</body>
</html>
